```
автобэкапирование БД mysql и складывание дампов в облачное хранилище (Selectel).

настроить бэкап БД каждые 4 часа (по Уралу - в 0, 4, 8, 12, 16, 20 ежедневно).
бэкапы, выполняемые по Уралу в полночь понедельника (переход с вс на пн) помечать как файлы длительного хранения и хранить 1 год
хранение краткосрочных бэкапов - 2 недели
Документация Selectel API доступна тут -- https://developers.selectel.ru/docs/cloud-services/cloud-storage/storage_swift_api/

Реквизиты доступа к текстовому контейнеру:

контейнер moncheck_test_backups
логин 89936_moncheck_test_backups
пароль скрыт
Предполагается использовать Swift API для работы с контейнером.
Можно использовать готовые инструменты.

Сценарий
Предлагаю такой сценарий:

Сделать бэкап БД на сервере:
если бэкап выполняется в полночь понедельника (по Уралу), назвать файл дампа по шаблону <dbname>_<YYMMDD>_<hhmmss>_LONG.gz
если бэкап выполняется в другое время, назвать файл дампа по шаблону <dbname>_<YYMMDD>_<hhmmss>_SHORT.gz
Закинуть файл дампа в контейнер:
LONG дампы закидываем в контейнер в папку long/<YYYY>, выставляем время хранения = 1 год
SHORT дампы закидываем в контейнер в папку short, выставляем время хранения = 2 недели
Проверить, что файл создался в контейнере в нужной папке
Удалить локальный файл дампа

Содержание /etc/crontab
# m h dom mon dow user<>command
00 3,7,11,15,23>* * *<->root<-->cd /opt/scripts/short/ && /opt/scripts/short/PutBackup2SelectelCDN.py
00 19<->* * 1-6><------>root<-->cd /opt/scripts/short/ && /opt/scripts/short/PutBackup2SelectelCDN.py
00 19 <>* * 7<-><------>root<-->cd /opt/scripts/long/ && /opt/scripts/long/PutBackup2SelectelCDN.py
```
